## Βαρύτητα και άλματα

Τώρα θα κάνεις τον χαρακτήρα σου να κινείται πιο ρεαλιστικά: πρόκειται να προσθέσεις τη βαρύτητα στο παιχνίδι σου και να δώσεις στον χαρακτήρα τη δυνατότητα να κάνει άλματα.

--- task ---

Στο παιχνίδι, μετακίνησε το χαρακτήρα σου έτσι ώστε να περπατά έξω από μια πλατφόρμα. Βλέπεις ότι μπορεί να περπατήσει σε κενό χώρο;

![στιγμιότυπο οθόνης](images/dodge-no-gravity.png)

--- /task ---

--- task --

Για να το διορθώσεις αυτό, πρόσθεσε βαρύτητα στο παιχνίδι σου. Για να γίνει αυτό, δημιούργησε μια νέα μεταβλητή με το όνομα `βαρύτητα`{:class="block3variables"}.

[[[generic-scratch3-add-variable]]]

Μπορείς να κρύψεις αυτή τη μεταβλητή από το Στάδιο/τη Σκηνή σου, αν θέλεις.

![στιγμιότυπο οθόνης](images/dodge-gravity-annotated.png)

--- /task ---

--- task ---

Πρόσθεσε αυτά τα νέα τουβλάκια κώδικα που θέτουν τη `βαρύτητα` σε αρνητικό αριθμό και χρησιμοποίησε την τιμή της `βαρύτητας` για να αλλάξεις επανειλημμένα τη συντεταγμένη y του χαρακτήρα σου:

![κινούμενη εικόνα pico](images/pico_walking_sprite.png)

```blocks3
Όταν στην πράσινη σημαία γίνει κλικ
όρισε [gravity v] σε [-4]
για πάντα 
  άλλαξε y κατά (gravity)
end
```

--- /task ---

--- task ---

Κάνε κλικ στη σημαία και στη συνέχεια σύρε/οδήγησε τον χαρακτήρα σου στο επάνω μέρος της Σκηνής. Τι συμβαίνει; Λειτουργεί η βαρύτητα όπως πρέπει;

![στιγμιότυπο οθόνης](images/dodge-gravity-drag.png)

--- /task ---

--- task ---

Η βαρύτητα δεν θα πρέπει να μετακινεί την κινούμενη εικόνα του χαρακτήρα μέσα από μια πλατφόρμα ή μια σκάλα! Πρόσθεσε ένα τουβλάκι `εάν`{:class="block3control"} στον κώδικά σου για να λειτουργεί η βαρύτητα μόνο όταν ο χαρακτήρας βρίσκεται στο μέσο του αέρα. Ο κώδικας βαρύτητας θα πρέπει να φαίνεται ως εξής:

![κινούμενη εικόνα pico](images/pico_walking_sprite.png)

```blocks3
Όταν στην πράσινη σημαία γίνει κλικ
όρισε [gravity v] σε [-4]
για πάντα 
  εάν <όχι <<αγγίζει χρώμα [#0000FF] ;> ή <αγγίζει χρώμα [#FF69B4] ;>>> τότε 
    άλλαξε y κατά (gravity)
  end
end
```

--- /task ---

--- task ---

Δοκίμασε ξανά το παιχνίδι για να δεις αν η βαρύτητα λειτουργεί σωστά τώρα. Η εικόνα του χαρακτήρα σου σταματάει να πέφτει όταν ακουμπήσει σε μια πλατφόρμα ή μια σκάλα; Μπορείς να κάνεις τον χαρακτήρα να περπατήσει πέρα από την άκρη των πλατφορμών και να πέσει στο επίπεδο κάτω;

![στιγμιότυπο οθόνης](images/dodge-gravity-test.png)

--- /task ---

--- task ---

Τώρα πρόσθεσε κώδικα για να κάνεις το χαρακτήρα να πηδάει κάθε φορά που ο παίκτης πατάει το πλήκτρο <kbd>space</kbd>. Ένας πολύ εύκολος τρόπος για να το κάνεις αυτό, είναι να μετακινήσεις τον χαρακτήρα σου προς τα πάνω μερικές φορές:

![κινούμενη εικόνα pico](images/pico_walking_sprite.png)

```blocks3
όταν πατηθεί πλήκτρο [space v]
επανάλαβε (10) 
  άλλαξε y κατά (4)
end
```

Επειδή η βαρύτητα πιέζει συνεχώς τον χαρακτήρα σου κατά 4 pixel, πρέπει να διαλέξεις έναν αριθμό μεγαλύτερο από το `4` στο τουβλάκι `άλλαξε y κατά (4)`{block: block3motion}. Άλλαξε τον αριθμό μέχρι να είσαι ικανοποιημένος με το ύψος που ο χαρακτήρας πηδάει.

--- /task ---

--- task ---

Δοκίμασε τον κώδικά σου. Παρατήρησε ότι η κίνηση του άλματος δεν είναι πολύ ομαλή. Για να κάνεις το άλμα να φαίνεται πιο ομαλό, θα πρέπει να μετακινήσεις την εικόνα του χαρακτήρα σου σε όλο και μικρότερες ποσότητες, έως ότου δεν σηκώνεται περισσότερο.

--- /task ---

--- task ---

Για να γίνει αυτό, δημιούργησε μια νέα μεταβλητή με όνομα `ύψος άλματος`{:class="block3variables"}. Και πάλι, μπορείς να κρύψεις αυτή τη μεταβλητή αν προτιμάς.

--- /task ---

--- task ---

Διέγραψε τον κώδικα για τα άλματα που πρόσθεσες στον χαρακτήρα σου και αντί αυτού πρόσθεσε τον παρακάτω κωδικό:

![κινούμενη εικόνα pico](images/pico_walking_sprite.png)

```blocks3
όταν πατηθεί πλήκτρο [space v]
όρισε [jump height v] σε [8]
επανάλαβε ώσπου <(jump height) = [0]> 
  άλλαξε y κατά (jump height)
  άλλαξε [jump height v] κατά (-0.5)
end
```

Αυτός ο κώδικας μετακινεί τον χαρακτήρα σου προς τα πάνω κατά 8 pixel, έπειτα 7,5 pixel, έπειτα 7 pixel και ούτω καθεξής, μέχρι να σταματήσει να αυξάνεται. Αυτό κάνει το άλμα να φαίνεται πολύ πιο ομαλό.

--- /task ---

--- task ---

Άλλαξε την τιμή του `ύψους άλματος`{:class="block3variables"} που έχει οριστεί πριν ξεκινήσει η `επανάληψη`{:class="block3control"}. Στη συνέχεια, δοκίμασε το παιχνίδι σου.

Επανέλαβε αυτά τα δύο βήματα μέχρι να είσαι ικανοποιημένος από το πόσο ψηλά πηδάει ο χαρακτήρας.

--- /task ---