## الجاذبية و القفز

الآن سوف تجعل شخصيتك تتحرك بصورة أكثر واقعية: سوف تضيف الجاذبية إلى لعبتك وتعطي الشخصية القدرة على القفز.

\--- task \---

في اللعبة، حرك شخصيتك بحيث تخرج من المنصة. هل ترى أنه يمكن أن يمشي في مساحة فارغة؟

![لقطة الشاشة](images/dodge-no-gravity.png)

\---/task--

\--- task \---

لإصلاح ذلك، أضف الجاذبية إلى لعبتك. للقيام بذلك، أنشئ متغير جديد يسمى `جاذبية`{:class="block3variables"}.

[[[generic-scratch3-add-variable]]]

يمكنك إخفاء هذا المتغير من منصة أو مساحة العمل إذا أردت.

![لقطة الشاشة](images/dodge-gravity-annotated.png)

\--- /task \---

\--- task \---

أضف هذه الكتل البرمجية الجديدة التي تجعل `الجاذبية` رقم سالب واستخدم قيمة `الجاذبية` لتغيير إحداثيات y لشخصيتك بشكل متكرر:

![كائن المشي بيكو](images/pico_walking_sprite.png)

```blocks3
    عند نقر ⚑
اجعل [gravity v] مساوياً [-4]
كرر باستمرار 
  غيِّر الموضع ص بمقدار (gravity)
end
```

\--- /task \---

\--- task \---

انقر فوق العلم، ثم اسحب شخصيتك إلى الجزء العلوي من المنصة. ماذا حدث؟ هل تعمل الجاذبية كما توقعت؟

![لقطة الشاشة](images/dodge-gravity-drag.png)

\--- /task \---

\--- task \---

الجاذبية لا ينبغي أن تحرك كائن الشخصية من خلال منصة أو سلم! أضف كتلة `if`{:class="block3control"} إلى التعليمة البرمجية الخاصة بك لجعل الجاذبية تعمل عندما تكون الشخصية في الهواء فقط. يجب أن تكون التعليمة البرمجية للجاذبية كما يلي:

![كائن المشي بيكو](images/pico_walking_sprite.png)

```blocks3
    عند نقر ⚑
اجعل [gravity v] مساوياً [-4]
كرر باستمرار 
  إذا <ليس <<ملامس للون [#0000FF] ؟> أو <ملامس للون [#FF69B4] ؟>>> 
    غيِّر الموضع ص بمقدار (gravity)
  end
end
```

\--- /task \---

\--- task \---

اختبر اللعبة مرة أخرى لمعرفة ما إذا كانت الجاذبية تعمل بشكل صحيح الآن. هل يتوقف كائن شخصيتك عن السقوط عندما يلمس منصة أو سلم؟ هل يمكنك جعل الشخصية تمشي بعيدا عن حافة المنصات وتسقط على المستوى أدناه؟

![لقطة الشاشة](images/dodge-gravity-test.png)

\--- /task \---

\--- task \---

الآن أضف تعليمة برمجية لجعل شخصيتك تقفز عندما يضغط اللاعب على زر <kbd>مساحة </kbd>. واحدة من الطرق السهلة جدا للقيام بذلك هي تحريك شخصيتك لأعلى عدة مرات:

![كائن المشي بيكو](images/pico_walking_sprite.png)

```blocks3
    عند ضغط مفتاح [المسافة v]
كرِّر (10) مرة 
  غيِّر الموضع ص بمقدار (4)
end
```

لأن الجاذبية تدفع شخصيتك باستمرار إلى أسفل بمقدار 4 بكسل، تحتاج إلى اختيار رقم أكبر من `4` في كتلة `تغيير y بمقدار (4)`{:class="block3motion"}. قم بتغيير الرقم حتى تكون سعيدا (او راضيا) بالارتفاع الذي تقفز به الشخصية.

\--- /task \---

\--- task \---

اختبر التعليمة البرمجية الخاص بك. لاحظ أن حركة القفز ليست سلسة جداً. لجعل القفز أكثر سلاسة، تحتاج إلى تحريك الكائن بقيم أصغر وأصغر، حتى لا يرتفع عشوائيا للأعلى.

\--- /task \---

\--- task \---

للقيام بذلك ، قم بإنشاء متغير جديد يسمى ` ارتفاع القفزة ` {: class = "block3variables"}. مرة أخرى، يمكنك إخفاء هذا المتغير إذا كنت تفضل ذلك.

\--- /task \---

\--- task \---

احذف التعليمة البرمجية الخاصة بالقفز التي أضفتها إلى الشخصية، واستخدم هذه التعليمة البرمجية بدلًا منها:

![كائن المشي بيكو](images/pico_walking_sprite.png)

```blocks3
    عند ضغط مفتاح [المسافة v]
اجعل [jump height v] مساوياً [8]
كرِّر حتى <(jump height) = [0]> 
  غيِّر الموضع ص بمقدار (jump height)
  غيِّر [jump height v] بمقدار (-0.5)
end
```

هذه التعليمة البرمجية تحرك شخصيتك إلى أعلى بمقدار 8 بكسل، ثم 7.5 بكسل، ثم 7 بكسل، وهكذا، حتى لا ترتفع عشوائيا للأعلى. وبذلك ستبدو القفزة اكثر سلاسة.

\--- /task \---

\--- task \---

قم بتغيير قيمة المتغير `ارتفاع القفز`{:class="block3variables"} الذي يتم ضبطه قبل بدء تشغيل `كرر`{:class="block3control"}. ثم اختبر لعبتك.

كرر هاتين الخطوتين حتى تكون سعيدا او راضيا بمدى ارتفاع قفزات الشخصية.

\--- /task \---